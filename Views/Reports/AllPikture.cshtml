@using Microsoft.AspNetCore.Http
@using PROJEKTDB.Models
@model ManagerPiktureReportVM

@{
    ViewData["Title"] = "Raport: Të gjitha Pikturat";
}

<div class="card-glass p-4 p-md-5 mt-4">
    <div class="d-flex justify-content-between align-items-center flex-wrap gap-3">
        <div>
            <h1 class="page-title mb-1">Raport: Lista e Pikturave</h1>
            <div class="text-muted-2">
                Të gjitha pikturat me galerinë, artistin dhe xhiron
            </div>
        </div>

        <a class="btn btn-outline-light"
           asp-controller="Home"
           asp-action="Index">
            ⬅ Kthehu në Dashboard
        </a>
    </div>

    <hr class="my-4" style="border-color: rgba(255,255,255,.12);" />

    <!-- =======================
         STATISTIKA TOTALE
         ======================= -->
    <div class="row g-3 mb-4">
        <div class="col-md-4">
            <div class="card-glass p-4">
                <div class="text-muted-2">Totali i pikturave</div>
                <div class="fw-bold fs-3">@Model.TotalPiktura</div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card-glass p-4">
                <div class="text-muted-2">Sasi e shitur (totale)</div>
                <div class="fw-bold fs-3">@Model.TotalShiturSasi</div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card-glass p-4">
                <div class="text-muted-2">Xhiro totale</div>
                <div class="fw-bold fs-3">
                    @Model.TotalXhiro.ToString("0.00") €
                </div>
            </div>
        </div>
    </div>

    <!-- =======================
         TABELA E PIKTURAVE
         ======================= -->
    <div class="card-glass p-4">
        <div class="fw-bold fs-5 mb-3">Të gjitha pikturat</div>

        <table class="table">
            <thead>
                <tr>
                    <th>PIK_ID</th>
                    <th>Titulli</th>
                    <th>Çmimi</th>
                    <th>Galeria</th>
                    <th>Artist</th>
                    <th>Sasi e shitur</th>
                    <th>Xhiro</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var r in Model.Rows)
                {
                    <tr>
                        <td>@r.PikId</td>
                        <td>@r.PikTit</td>
                        <td>@r.PikCmim.ToString("0.00") €</td>
                        <td>@r.GalEm (@r.GalId)</td>
                        <td>@r.ArtistEm (@r.ArtistId)</td>
                        <td>@r.ShiturSasi</td>
                        <td>@r.Xhiro.ToString("0.00") €</td>
                    </tr>
                }
            </tbody>
        </table>

        @if (Model.Rows.Count == 0)
        {
            <div class="text-muted-2 mt-3">
                Nuk ka piktura të regjistruara.
            </div>
        }
    </div>
</div>
